pipeline {
    agent any

    parameters {
        choice(name: 'MOIS', choices: [
            'Janvier', 'FÃ©vrier', 'Mars', 'Avril', 'Mai', 'Juin',
            'Juillet', 'AoÃ»t', 'Septembre', 'Octobre', 'Novembre', 'DÃ©cembre'
        ], description: 'SÃ©lectionne un mois')
    }

    stages {
        stage('Objectif du mois') {
            steps {
                script {
                    def objectifs = [
                        "Janvier": "RÃ©diger un journal intime",
                        "FÃ©vrier": "RedÃ©corer la maison pour se sentir bien",
                        "Mars": "Prendre soin de soi",
                        "Avril": "Soyez gentil",
                        "Mai": "Faites quelque chose que vous nâ€™avez jamais fait auparavant",
                        "Juin": "Passez du temps avec le vÃ´tre",
                        "Juillet": "Aller Ã  un concert et danser",
                        "AoÃ»t": "Dormir une nuit sur la plage",
                        "Septembre": "DÃ©couvrez le monde",
                        "Octobre": "Ã‰tudiez",
                        "Novembre": "Apprendre Ã  jouer d'un instrument",
                        "DÃ©cembre": "Respirez consciencieusement"
                    ]

                    echo "ðŸŽ¯ Objectif pour le mois de ${params.MOIS} :"
                    echo "âž¡ ${objectifs[params.MOIS]}"
                }
            }
        }

        stage('Validation par l\'utilisateur') {
            steps {
                script {
                    def reponse = input(
                        message: "As-tu atteint ton objectif pour le mois de ${params.MOIS} ?",
                        parameters: [
                            choice(name: 'RÃ©ponse', choices: ['Oui', 'Non'], description: 'SÃ©lectionne ta rÃ©ponse')
                        ]
                    )

                    if (reponse == 'Oui') {
                        echo "ðŸŽ‰ Bravo pour avoir relevÃ© le challenge de ${params.MOIS} !"
                    } else {
                        echo "ðŸ’ª Tu peux encore le faire ! Courage pour ton objectif de ${params.MOIS}."
                    }
                }
            }
        }
    }

    post {
        always {
            echo "âœ… Pipeline terminÃ©."
        }
    }
}
